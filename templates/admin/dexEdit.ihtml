<div id="meaningEditor" class="box">
  <div class="boxTitle">Editorul de sensuri</div>
  <div class="boxContents">
    <textarea id="editorInternalRep" rows="10" cols="10" disabled="disabled" placeholder="...sensul definiției..."></textarea><br/>
    <textarea id="editorInternalComment" rows="3" cols="10" disabled="disabled" placeholder="...comentariu..."></textarea><br/>
    <div class="editorLabel">surse:</div>
    <div class="editorFieldContainer">
      <select id="editorSources" multiple="multiple">
        {foreach from=$sources item=s}
          <option value="{$s->id}">{$s->shortName}</option>
        {/foreach}
      </select>
    </div>
    <div style="clear: both"></div>
    <div class="editorLabel">etichete:</div>
    <div class="editorFieldContainer">
      <select id="editorTags" multiple="multiple">
        {foreach from=$meaningTags item=mt}
          <option value="{$mt->value}">{$mt->value}</option>
        {/foreach}
      </select>
    </div>
    <div style="clear: both"></div>
    <input id="editMeaningAcceptButton" type="button" disabled="disabled" value="acceptă"/>
    <input id="editMeaningCancelButton" type="button" disabled="disabled" value="renunță"/>
  </div>
</div>

<span id="stemNode">
  <span class="id"></span>
  <span class="internalRep"></span>
  <span class="htmlRep"></span>
  <span class="sources"></span>
  <span class="sourceIds"></span>
  <span class="tags"></span>
  <span class="internalComment"></span>
  <span class="htmlComment"></span>
</span>

<div id="meaningTreeContainer" class="box">
  <div class="boxTitle">Arborele de sensuri</div>
  <div class="boxContents">
    {include file="common/bits/meaningTree.ihtml" meanings=$meanings id="meaningTree"}

    <div id="meaningMenu">
      <input type="button" id="addMeaningButton" value="adaugă sens"/>
      <input type="button" id="addSubmeaningButton" value="adaugă subsens"/>
      <input type="button" id="deleteMeaningButton" value="șterge sens"/>
    </div>
  </div>
</div>

<div style="clear: both"></div>

<form id="meaningForm" action="dexEdit.php" method="post">
  <input type="hidden" name="jsonMeanings" value=""/>
  <input type="hidden" name="lexemId" value="{$lexem->id}"/>
  <input id="dexEditSaveButton" type="button" value="salvează totul"/>
</form>

<div class="box">
  <div class="boxTitle">Definiții</div>
  <div class="boxContents">
    {foreach from=$searchResults item=row}
      <div>
        <div class="defInternalRep">
          {$row->definition->internalRep|escape}
        </div>
        <span class="defDetails">
          Sursa: {$row->source->shortName|escape}
          | Id: {$row->definition->id}
          | <a href="definitionEdit.php?definitionId={$row->definition->id}">Editează</a>
        </span>
        {if $row->comment}
          <div class="commentInternalRep">
            Comentariu: {$row->comment->contents} -
            <a href="{$wwwRoot}utilizator/{$row->commentAuthor->nick|escape:"url"}"
            >{$row->commentAuthor->nick|escape}</a>
          </div>
        {/if}
      </div>
    {/foreach}
  </div>
</div>

<script type="text/javascript">
  meaningEditorInit();
</script>
